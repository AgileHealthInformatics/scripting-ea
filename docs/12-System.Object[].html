<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Chapter 11: Governance Scripts – Scripting Sparx Enterprise Architect: A Practical Handbook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./13-System.Object[].html" rel="next">
<link href="./11-System.Object[].html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-b4ddde2c4c77ed14ccfa95278770da4f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./12-System.Object[].html"><span class="chapter-title">Chapter 11: Governance Scripts</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Scripting Sparx Enterprise Architect: A Practical Handbook</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Scripting Sparx Enterprise Architect</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-Preface.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 1: Why Script EA?</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 2: Automation Landscape</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 3: Getting Started</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 4: API Essentials</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 5: Inside EA with JScript</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 6: External Automation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 7: Script Design Patterns</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 8: Object Details</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 9: Imports &amp; Exports</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 10: MDG-Aware Scripting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-System.Object[].html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Chapter 11: Governance Scripts</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 12: Cookbook of Examples</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 13: Why AI Helps</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 14: Prompt Engineering</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 15: AI Refactoring Partner</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 16: AI in Daily Workflow</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 17: Performance &amp; Scaling</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./19-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 18: Integrating with Workflows</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./20-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 19: Add-ins vs Scripts</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 20: Troubleshooting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./22-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 21: Reference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./23-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Appendix A: Scripting Constraints</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./24-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Appendix B: External Automation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./25-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Appendix C: Glossary of Terms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./26-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Appendix D: Quick Reference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./27-System.Object[].html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Appendix E: External Automation Setup</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#why-governance-matters" id="toc-why-governance-matters" class="nav-link active" data-scroll-target="#why-governance-matters">Why Governance Matters</a></li>
  <li><a href="#the-pain-of-manual-governance" id="toc-the-pain-of-manual-governance" class="nav-link" data-scroll-target="#the-pain-of-manual-governance">The Pain of Manual Governance</a>
  <ul class="collapse">
  <li><a href="#the-case-for-automation" id="toc-the-case-for-automation" class="nav-link" data-scroll-target="#the-case-for-automation">The Case for Automation</a></li>
  <li><a href="#what-governance-scripts-check" id="toc-what-governance-scripts-check" class="nav-link" data-scroll-target="#what-governance-scripts-check">What Governance Scripts Check</a></li>
  <li><a href="#from-policing-to-enablement" id="toc-from-policing-to-enablement" class="nav-link" data-scroll-target="#from-policing-to-enablement">From Policing to Enablement</a></li>
  <li><a href="#governance-as-quality-assurance" id="toc-governance-as-quality-assurance" class="nav-link" data-scroll-target="#governance-as-quality-assurance">Governance as Quality Assurance</a></li>
  <li><a href="#levels-of-governance" id="toc-levels-of-governance" class="nav-link" data-scroll-target="#levels-of-governance">Levels of Governance</a></li>
  <li><a href="#reporting-and-transparency" id="toc-reporting-and-transparency" class="nav-link" data-scroll-target="#reporting-and-transparency">Reporting and Transparency</a></li>
  </ul></li>
  <li><a href="#governance-and-mdgs" id="toc-governance-and-mdgs" class="nav-link" data-scroll-target="#governance-and-mdgs">Governance and MDGs</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples">Examples</a>
  <ul class="collapse">
  <li><a href="#naming-conventions" id="toc-naming-conventions" class="nav-link" data-scroll-target="#naming-conventions">Naming Conventions</a></li>
  <li><a href="#model-smells" id="toc-model-smells" class="nav-link" data-scroll-target="#model-smells">Model Smells</a></li>
  <li><a href="#duplicate-elements" id="toc-duplicate-elements" class="nav-link" data-scroll-target="#duplicate-elements">Duplicate Elements</a></li>
  <li><a href="#coverage-traceability" id="toc-coverage-traceability" class="nav-link" data-scroll-target="#coverage-traceability">Coverage &amp; Traceability</a></li>
  <li><a href="#governance-reports-csv" id="toc-governance-reports-csv" class="nav-link" data-scroll-target="#governance-reports-csv">Governance Reports (CSV)</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-title">Chapter 11: Governance Scripts</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Governance is one of the most important and least glamorous aspects of modelling. It is the quiet discipline that ensures models remain trustworthy, consistent, and usable over time. Without governance, repositories decay. Naming conventions drift, orphaned elements accumulate, stereotypes are misapplied, and diagrams no longer reflect reality. A model that begins as a clear architectural guide slowly becomes a jungle of inconsistencies, and eventually stakeholders stop trusting it.</p>
<p>Enterprise Architect provides some built-in validation features, but governance at scale requires automation. This is where <strong>governance scripts</strong> come in. They act as model guardians: scanning repositories for violations, enforcing standards, and generating objective reports on quality. They take subjective debates about “style” and turn them into automated checks that either pass or fail. In doing so, they transform governance from a painful, manual process into a manageable and repeatable workflow.</p>
<p>This chapter introduces the concept of governance scripts. It explains why governance matters, what kinds of issues can be checked, how automation changes the governance process, and why scripting is uniquely suited to this role. It also emphasises the importance of balance: governance should not be punitive or bureaucratic, but enabling — a way to help modellers do good work with confidence.</p>
<section id="why-governance-matters" class="level2">
<h2 class="anchored" data-anchor-id="why-governance-matters">Why Governance Matters</h2>
<p>Models are living artefacts. They are updated by many people over months or years. Left unchecked, even small deviations accumulate into serious problems:</p>
<ul>
<li><p>Inconsistent naming makes elements hard to find.</p></li>
<li><p>Missing tags leave models unfit for analysis.</p></li>
<li><p>Incorrect connectors break traceability.</p></li>
<li><p>Duplicated elements cause confusion in reports.</p></li>
<li><p>Orphaned elements give the illusion of coverage but no actual linkage.</p></li>
</ul>
<p>Governance provides the antidote. It ensures the model remains a reliable foundation for decision-making, documentation, and integration with other tools.</p>
</section>
<section id="the-pain-of-manual-governance" class="level2">
<h2 class="anchored" data-anchor-id="the-pain-of-manual-governance">The Pain of Manual Governance</h2>
<p>Traditionally, governance has been manual: reviewers inspect models, checklists are filled in, and corrective actions assigned. This is slow, subjective, and demoralising. Architects end up spending more time policing modellers than doing architecture. Reviewers argue about style rather than substance. And problems are often caught late, when correcting them is expensive.</p>
<p>Manual governance is also inconsistent. Different reviewers may apply different standards, leading to confusion and resentment. The result is often governance fatigue: modellers stop caring, reviewers stop enforcing, and quality slides.</p>
<section id="the-case-for-automation" class="level3">
<h3 class="anchored" data-anchor-id="the-case-for-automation">The Case for Automation</h3>
<p>Scripting changes the dynamic completely. With governance scripts, checks are automated, repeatable, and objective. A script does not get tired, bored, or inconsistent. It simply scans the repository and reports results.</p>
<p>Benefits include:</p>
<ul>
<li><p><strong>Speed</strong>: thousands of elements can be checked in seconds.</p></li>
<li><p><strong>Objectivity</strong>: standards are enforced consistently.</p></li>
<li><p><strong>Transparency</strong>: logs show exactly what passed and failed.</p></li>
<li><p><strong>Scalability</strong>: large repositories can be governed without multiplying staff effort.</p></li>
</ul>
<p>Automated governance also changes culture. Instead of governance being seen as policing, it becomes part of normal workflow. Modellers can run scripts themselves before committing changes, catching issues early.</p>
</section>
<section id="what-governance-scripts-check" class="level3">
<h3 class="anchored" data-anchor-id="what-governance-scripts-check">What Governance Scripts Check</h3>
<p>Governance scripts can cover many aspects of model quality. Common categories include:</p>
<ul>
<li><p><strong>Naming conventions</strong>: e.g., requirements must start with REQ_, capabilities with BC_.</p></li>
<li><p><strong>Stereotype compliance</strong>: only approved stereotypes may be used.</p></li>
<li><p><strong>Tagged value completeness</strong>: certain tags must exist and be populated.</p></li>
<li><p><strong>Connector rules</strong>: e.g., only ApplicationComponents may realise Capabilities.</p></li>
<li><p><strong>Model smells</strong>: orphaned elements, duplicate names, unused diagrams.</p></li>
<li><p><strong>Coverage checks</strong>: every requirement must trace to a capability, every component to a service.</p></li>
</ul>
<p>These checks can be run as reports or as enforcement scripts that auto-correct issues.</p>
</section>
<section id="from-policing-to-enablement" class="level3">
<h3 class="anchored" data-anchor-id="from-policing-to-enablement">From Policing to Enablement</h3>
<p>One danger of governance automation is that it can become heavy-handed: modellers feel constrained and demotivated. The key is to frame governance as <strong>enablement, not punishment</strong>. Scripts are there to help, not hinder.</p>
<p>For example:</p>
<ul>
<li><p>A script that renames elements automatically to match conventions saves modellers time.</p></li>
<li><p>A script that adds missing tags reduces manual entry.</p></li>
<li><p>A script that reports orphans gives clear guidance for cleanup.</p></li>
</ul>
<p>When governance scripts are seen as helpers, adoption increases.</p>
</section>
<section id="governance-as-quality-assurance" class="level3">
<h3 class="anchored" data-anchor-id="governance-as-quality-assurance">Governance as Quality Assurance</h3>
<p>Governance is not separate from quality; it is quality assurance for models. Just as code is tested by unit tests and static analysis, models should be tested by governance scripts. This analogy is powerful: modellers begin to see governance not as red tape but as the modelling equivalent of running tests. Passing governance checks means your model is ready for use.</p>
</section>
<section id="levels-of-governance" class="level3">
<h3 class="anchored" data-anchor-id="levels-of-governance">Levels of Governance</h3>
<p>Governance can be applied at different levels:</p>
<ul>
<li><p><strong>Local</strong>: a modeller runs a script on their package before publishing.</p></li>
<li><p><strong>Team</strong>: governance scripts are run during reviews or milestones.</p></li>
<li><p><strong>Enterprise</strong>: scheduled jobs scan the whole repository and produce dashboards.</p></li>
</ul>
<p>Scripting supports all three levels. Internal scripts are ideal for local checks. External automation can handle enterprise-wide scans and reporting.</p>
</section>
<section id="reporting-and-transparency" class="level3">
<h3 class="anchored" data-anchor-id="reporting-and-transparency">Reporting and Transparency</h3>
<p>The value of governance scripts is not only in enforcement but also in <strong>reporting</strong>. A script that logs issues to CSV can feed dashboards or be shared in review meetings. Reports provide evidence of compliance, useful for audits or regulatory contexts.</p>
<p>Transparency is key: modellers must be able to see why something failed and how to fix it. A governance report that simply says “non-compliant” is not helpful. A report that lists exactly which elements are missing which tags is actionable.</p>
</section>
</section>
<section id="governance-and-mdgs" class="level2">
<h2 class="anchored" data-anchor-id="governance-and-mdgs">Governance and MDGs</h2>
<p>As Chapter 9 explained, MDGs define the modelling language in use. Governance scripts must respect MDGs: checking that stereotypes are used correctly, tags are populated, and connector rules are followed. This alignment ensures that automation reinforces, rather than undermines, the MDG.</p>
<p>For example, a governance script for an ArchiMate MDG might check that every ApplicationComponent has a Layer tag and that only ApplicationComponents realise Capabilities.</p>
</section>
<section id="examples" class="level2">
<h2 class="anchored" data-anchor-id="examples">Examples</h2>
<section id="naming-conventions" class="level3">
<h3 class="anchored" data-anchor-id="naming-conventions">Naming Conventions</h3>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Example 11.1 - Gov_NamingConvention.js – JScript (ES3)</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" data-filename="Example 11.1 - Gov_NamingConvention.js – JScript (ES3)"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co">// Example 11.1 - Gov_NamingConvention.js – JScript (ES3)</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co">// Purpose: Enforce naming convention "REQ_" for Requirement elements</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">// Safety: DRY_RUN = true by default</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">// Output: Logs violations, optional repair</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="op">!</span>INC Local Scripts<span class="op">.</span><span class="at">EAConstants</span><span class="op">-</span>JScript</span>
<span id="cb1-8"><a href="#cb1-8"></a></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="kw">function</span> <span class="fu">trim</span>(str) {</span>
<span id="cb1-10"><a href="#cb1-10"></a>    <span class="cf">if</span> (str <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> str <span class="op">==</span> <span class="kw">undefined</span>) <span class="cf">return</span> <span class="st">""</span><span class="op">;</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>    <span class="cf">return</span> <span class="bu">String</span>(str)<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">^\s+|\s+$</span><span class="ss">/g</span><span class="op">,</span> <span class="st">""</span>)<span class="op">;</span></span>
<span id="cb1-12"><a href="#cb1-12"></a>}</span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="kw">function</span> <span class="fu">startsWith</span>(str<span class="op">,</span> prefix) {</span>
<span id="cb1-14"><a href="#cb1-14"></a>    <span class="cf">return</span> <span class="bu">String</span>(str<span class="op">||</span><span class="st">""</span>)<span class="op">.</span><span class="fu">indexOf</span>(prefix) <span class="op">===</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-15"><a href="#cb1-15"></a>}</span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb1-18"><a href="#cb1-18"></a>    <span class="kw">var</span> DRY_RUN <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb1-19"><a href="#cb1-19"></a>    <span class="kw">var</span> PREFIX  <span class="op">=</span> <span class="st">"REQ_"</span><span class="op">;</span></span>
<span id="cb1-20"><a href="#cb1-20"></a></span>
<span id="cb1-21"><a href="#cb1-21"></a>    <span class="kw">var</span> pkg <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetTreeSelectedPackage</span>()<span class="op">;</span></span>
<span id="cb1-22"><a href="#cb1-22"></a>    <span class="cf">if</span> (<span class="op">!</span>pkg) { Session<span class="op">.</span><span class="fu">Prompt</span>(<span class="st">"Select a package."</span><span class="op">,</span> promptOK)<span class="op">;</span> <span class="cf">return</span><span class="op">;</span> }</span>
<span id="cb1-23"><a href="#cb1-23"></a></span>
<span id="cb1-24"><a href="#cb1-24"></a>    <span class="kw">var</span> els <span class="op">=</span> pkg<span class="op">.</span><span class="at">Elements</span><span class="op">;</span></span>
<span id="cb1-25"><a href="#cb1-25"></a>    <span class="kw">var</span> fixed<span class="op">=</span><span class="dv">0</span><span class="op">,</span> issues<span class="op">=</span><span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-26"><a href="#cb1-26"></a>    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>els<span class="op">.</span><span class="at">Count</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb1-27"><a href="#cb1-27"></a>        <span class="kw">var</span> e <span class="op">=</span> els<span class="op">.</span><span class="fu">GetAt</span>(i)<span class="op">;</span></span>
<span id="cb1-28"><a href="#cb1-28"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Requirement"</span>) {</span>
<span id="cb1-29"><a href="#cb1-29"></a>            <span class="cf">if</span> (<span class="op">!</span><span class="fu">startsWith</span>(e<span class="op">.</span><span class="at">Name</span><span class="op">,</span> PREFIX)) {</span>
<span id="cb1-30"><a href="#cb1-30"></a>                issues<span class="op">++;</span></span>
<span id="cb1-31"><a href="#cb1-31"></a>                <span class="kw">var</span> newName <span class="op">=</span> PREFIX <span class="op">+</span> <span class="fu">trim</span>(e<span class="op">.</span><span class="at">Name</span>)<span class="op">;</span></span>
<span id="cb1-32"><a href="#cb1-32"></a>                Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Naming issue: "</span> <span class="op">+</span> e<span class="op">.</span><span class="at">Name</span> <span class="op">+</span> <span class="st">" → "</span> <span class="op">+</span> newName)<span class="op">;</span></span>
<span id="cb1-33"><a href="#cb1-33"></a>                <span class="cf">if</span> (<span class="op">!</span>DRY_RUN) {</span>
<span id="cb1-34"><a href="#cb1-34"></a>                    e<span class="op">.</span><span class="at">Name</span> <span class="op">=</span> newName<span class="op">;</span></span>
<span id="cb1-35"><a href="#cb1-35"></a>                    e<span class="op">.</span><span class="fu">Update</span>()<span class="op">;</span></span>
<span id="cb1-36"><a href="#cb1-36"></a>                    fixed<span class="op">++;</span></span>
<span id="cb1-37"><a href="#cb1-37"></a>                }</span>
<span id="cb1-38"><a href="#cb1-38"></a>            }</span>
<span id="cb1-39"><a href="#cb1-39"></a>        }</span>
<span id="cb1-40"><a href="#cb1-40"></a>    }</span>
<span id="cb1-41"><a href="#cb1-41"></a>    <span class="cf">if</span> (<span class="op">!</span>DRY_RUN <span class="op">&amp;&amp;</span> fixed<span class="op">&gt;</span><span class="dv">0</span>) Repository<span class="op">.</span><span class="fu">RefreshModelView</span>(pkg<span class="op">.</span><span class="at">PackageID</span>)<span class="op">;</span></span>
<span id="cb1-42"><a href="#cb1-42"></a>    Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Issues="</span> <span class="op">+</span> issues <span class="op">+</span> <span class="st">" Fixed="</span> <span class="op">+</span> fixed <span class="op">+</span> <span class="st">" Dry-run="</span> <span class="op">+</span> DRY_RUN)<span class="op">;</span></span>
<span id="cb1-43"><a href="#cb1-43"></a>}</span>
<span id="cb1-44"><a href="#cb1-44"></a></span>
<span id="cb1-45"><a href="#cb1-45"></a><span class="fu">main</span>()<span class="op">;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="model-smells" class="level3">
<h3 class="anchored" data-anchor-id="model-smells">Model Smells</h3>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Example 11.1 - Gov_NamingConvention.js – JScript (ES3)</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" data-filename="Example 11.1 - Gov_NamingConvention.js – JScript (ES3)"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co">// Example 11.2 - Gov_ModelSmells_Orphans.js – JScript (ES3)</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">// Purpose: Find elements without any connectors (orphans)</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">// Output: Report-only</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="op">!</span>INC Local Scripts<span class="op">.</span><span class="at">EAConstants</span><span class="op">-</span>JScript</span>
<span id="cb2-7"><a href="#cb2-7"></a></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="kw">var</span> pkg <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetTreeSelectedPackage</span>()<span class="op">;</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="cf">if</span> (<span class="op">!</span>pkg) { Session<span class="op">.</span><span class="fu">Prompt</span>(<span class="st">"Select a package."</span><span class="op">,</span> promptOK)<span class="op">;</span> <span class="cf">return</span><span class="op">;</span> }</span>
<span id="cb2-11"><a href="#cb2-11"></a></span>
<span id="cb2-12"><a href="#cb2-12"></a>    <span class="kw">var</span> els <span class="op">=</span> pkg<span class="op">.</span><span class="at">Elements</span><span class="op">;</span></span>
<span id="cb2-13"><a href="#cb2-13"></a>    <span class="kw">var</span> orphans<span class="op">=</span><span class="dv">0</span><span class="op">;</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>els<span class="op">.</span><span class="at">Count</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb2-15"><a href="#cb2-15"></a>        <span class="kw">var</span> e <span class="op">=</span> els<span class="op">.</span><span class="fu">GetAt</span>(i)<span class="op">;</span></span>
<span id="cb2-16"><a href="#cb2-16"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Connectors</span><span class="op">.</span><span class="at">Count</span> <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb2-17"><a href="#cb2-17"></a>            orphans<span class="op">++;</span></span>
<span id="cb2-18"><a href="#cb2-18"></a>            Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Orphan: "</span> <span class="op">+</span> e<span class="op">.</span><span class="at">Name</span> <span class="op">+</span> <span class="st">" ("</span> <span class="op">+</span> e<span class="op">.</span><span class="at">Type</span> <span class="op">+</span> <span class="st">")"</span>)<span class="op">;</span></span>
<span id="cb2-19"><a href="#cb2-19"></a>        }</span>
<span id="cb2-20"><a href="#cb2-20"></a>    }</span>
<span id="cb2-21"><a href="#cb2-21"></a>    Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Total orphans found: "</span> <span class="op">+</span> orphans)<span class="op">;</span></span>
<span id="cb2-22"><a href="#cb2-22"></a>}</span>
<span id="cb2-23"><a href="#cb2-23"></a></span>
<span id="cb2-24"><a href="#cb2-24"></a><span class="fu">main</span>()<span class="op">;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="duplicate-elements" class="level3">
<h3 class="anchored" data-anchor-id="duplicate-elements">Duplicate Elements</h3>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Example 11.3 - Gov_ModelSmells_Duplicates.js – JScript (ES3)</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" data-filename="Example 11.3 - Gov_ModelSmells_Duplicates.js – JScript (ES3)"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">// Example 11.3 - Gov_ModelSmells_Duplicates.js – JScript (ES3)</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">// Purpose: Report duplicate element names within a package</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">// Output: Report-only</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="op">!</span>INC Local Scripts<span class="op">.</span><span class="at">EAConstants</span><span class="op">-</span>JScript</span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb3-9"><a href="#cb3-9"></a>    <span class="kw">var</span> pkg <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetTreeSelectedPackage</span>()<span class="op">;</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>    <span class="cf">if</span> (<span class="op">!</span>pkg) { Session<span class="op">.</span><span class="fu">Prompt</span>(<span class="st">"Select a package."</span><span class="op">,</span> promptOK)<span class="op">;</span> <span class="cf">return</span><span class="op">;</span> }</span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a>    <span class="kw">var</span> els <span class="op">=</span> pkg<span class="op">.</span><span class="at">Elements</span><span class="op">;</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>    <span class="kw">var</span> seen <span class="op">=</span> {}<span class="op">;</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>    <span class="kw">var</span> dups <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-15"><a href="#cb3-15"></a></span>
<span id="cb3-16"><a href="#cb3-16"></a>    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>els<span class="op">.</span><span class="at">Count</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb3-17"><a href="#cb3-17"></a>        <span class="kw">var</span> e <span class="op">=</span> els<span class="op">.</span><span class="fu">GetAt</span>(i)<span class="op">;</span></span>
<span id="cb3-18"><a href="#cb3-18"></a>        <span class="kw">var</span> name <span class="op">=</span> <span class="bu">String</span>(e<span class="op">.</span><span class="at">Name</span><span class="op">||</span><span class="st">""</span>)<span class="op">;</span></span>
<span id="cb3-19"><a href="#cb3-19"></a>        <span class="cf">if</span> (seen[name]) {</span>
<span id="cb3-20"><a href="#cb3-20"></a>            Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Duplicate name: "</span> <span class="op">+</span> name <span class="op">+</span> <span class="st">" (ElementID="</span> <span class="op">+</span> e<span class="op">.</span><span class="at">ElementID</span> <span class="op">+</span> <span class="st">")"</span>)<span class="op">;</span></span>
<span id="cb3-21"><a href="#cb3-21"></a>            dups<span class="op">++;</span></span>
<span id="cb3-22"><a href="#cb3-22"></a>        } <span class="cf">else</span> {</span>
<span id="cb3-23"><a href="#cb3-23"></a>            seen[name] <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb3-24"><a href="#cb3-24"></a>        }</span>
<span id="cb3-25"><a href="#cb3-25"></a>    }</span>
<span id="cb3-26"><a href="#cb3-26"></a>    Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Duplicate count: "</span> <span class="op">+</span> dups)<span class="op">;</span></span>
<span id="cb3-27"><a href="#cb3-27"></a>}</span>
<span id="cb3-28"><a href="#cb3-28"></a></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="fu">main</span>()<span class="op">;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="coverage-traceability" class="level3">
<h3 class="anchored" data-anchor-id="coverage-traceability">Coverage &amp; Traceability</h3>
<p>Traceability rules ensure that modelled items are linked correctly (e.g., each requirement must trace to at least one capability).</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Example 11.4 - Gov_Traceability_Check.js – JScript (ES3)</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" data-filename="Example 11.4 - Gov_Traceability_Check.js – JScript (ES3)"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">// Example 11.4 - Gov_Traceability_Check.js – JScript (ES3)</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">// Purpose: Verify every Requirement in a package has at least one Realization link to a Capability</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">// Safety: Report-only</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="op">!</span>INC Local Scripts<span class="op">.</span><span class="at">EAConstants</span><span class="op">-</span>JScript</span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb4-9"><a href="#cb4-9"></a>    <span class="kw">var</span> pkg <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetTreeSelectedPackage</span>()<span class="op">;</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>    <span class="cf">if</span> (<span class="op">!</span>pkg) { Session<span class="op">.</span><span class="fu">Prompt</span>(<span class="st">"Select a package."</span><span class="op">,</span> promptOK)<span class="op">;</span> <span class="cf">return</span><span class="op">;</span> }</span>
<span id="cb4-11"><a href="#cb4-11"></a></span>
<span id="cb4-12"><a href="#cb4-12"></a>    <span class="kw">var</span> els <span class="op">=</span> pkg<span class="op">.</span><span class="at">Elements</span><span class="op">;</span></span>
<span id="cb4-13"><a href="#cb4-13"></a>    <span class="kw">var</span> missing<span class="op">=</span><span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14"></a>    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>els<span class="op">.</span><span class="at">Count</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb4-15"><a href="#cb4-15"></a>        <span class="kw">var</span> e <span class="op">=</span> els<span class="op">.</span><span class="fu">GetAt</span>(i)<span class="op">;</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Requirement"</span>) {</span>
<span id="cb4-17"><a href="#cb4-17"></a>            <span class="kw">var</span> cons <span class="op">=</span> e<span class="op">.</span><span class="at">Connectors</span><span class="op">;</span></span>
<span id="cb4-18"><a href="#cb4-18"></a>            <span class="kw">var</span> hasTrace <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb4-19"><a href="#cb4-19"></a>            <span class="cf">for</span> (<span class="kw">var</span> j<span class="op">=</span><span class="dv">0</span><span class="op">;</span> j<span class="op">&lt;</span>cons<span class="op">.</span><span class="at">Count</span><span class="op">;</span> j<span class="op">++</span>) {</span>
<span id="cb4-20"><a href="#cb4-20"></a>                <span class="kw">var</span> c <span class="op">=</span> cons<span class="op">.</span><span class="fu">GetAt</span>(j)<span class="op">;</span></span>
<span id="cb4-21"><a href="#cb4-21"></a>                <span class="cf">if</span> (c<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Realisation"</span> <span class="op">||</span> c<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Realization"</span>) {</span>
<span id="cb4-22"><a href="#cb4-22"></a>                    <span class="kw">var</span> target <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetElementByID</span>(c<span class="op">.</span><span class="at">SupplierID</span>)<span class="op">;</span></span>
<span id="cb4-23"><a href="#cb4-23"></a>                    <span class="cf">if</span> (target <span class="op">&amp;&amp;</span> target<span class="op">.</span><span class="at">Stereotype</span> <span class="op">==</span> <span class="st">"Capability"</span>) {</span>
<span id="cb4-24"><a href="#cb4-24"></a>                        hasTrace <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb4-25"><a href="#cb4-25"></a>                        <span class="cf">break</span><span class="op">;</span></span>
<span id="cb4-26"><a href="#cb4-26"></a>                    }</span>
<span id="cb4-27"><a href="#cb4-27"></a>                }</span>
<span id="cb4-28"><a href="#cb4-28"></a>            }</span>
<span id="cb4-29"><a href="#cb4-29"></a>            <span class="cf">if</span> (<span class="op">!</span>hasTrace) {</span>
<span id="cb4-30"><a href="#cb4-30"></a>                missing<span class="op">++;</span></span>
<span id="cb4-31"><a href="#cb4-31"></a>                Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Requirement without Capability trace: "</span> <span class="op">+</span> e<span class="op">.</span><span class="at">Name</span> <span class="op">+</span> <span class="st">" (ID="</span> <span class="op">+</span> e<span class="op">.</span><span class="at">ElementID</span> <span class="op">+</span> <span class="st">")"</span>)<span class="op">;</span></span>
<span id="cb4-32"><a href="#cb4-32"></a>            }</span>
<span id="cb4-33"><a href="#cb4-33"></a>        }</span>
<span id="cb4-34"><a href="#cb4-34"></a>    }</span>
<span id="cb4-35"><a href="#cb4-35"></a>    Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Traceability issues found: "</span> <span class="op">+</span> missing)<span class="op">;</span></span>
<span id="cb4-36"><a href="#cb4-36"></a>}</span>
<span id="cb4-37"><a href="#cb4-37"></a></span>
<span id="cb4-38"><a href="#cb4-38"></a><span class="fu">main</span>()<span class="op">;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="governance-reports-csv" class="level3">
<h3 class="anchored" data-anchor-id="governance-reports-csv">Governance Reports (CSV)</h3>
<p>For larger models, CSV outputs make governance easier to review.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Example 11.5 - Gov_ExportViolations.js – JScript (ES3)</strong></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" data-filename="Example 11.5 - Gov_ExportViolations.js – JScript (ES3)"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">// Example 11.5 - Gov_ExportViolations.js – JScript (ES3)</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">// Purpose: Collect naming, orphan, and traceability issues into CSV</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">// Output: directory-only chooser; filename auto-derived</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="op">!</span>INC Local Scripts<span class="op">.</span><span class="at">EAConstants</span><span class="op">-</span>JScript</span>
<span id="cb5-7"><a href="#cb5-7"></a></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="kw">function</span> <span class="fu">trim</span>(str) {</span>
<span id="cb5-9"><a href="#cb5-9"></a>    <span class="cf">if</span> (str <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> str <span class="op">==</span> <span class="kw">undefined</span>) <span class="cf">return</span> <span class="st">""</span><span class="op">;</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>    <span class="cf">return</span> <span class="bu">String</span>(str)<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">^\s+|\s+$</span><span class="ss">/g</span><span class="op">,</span> <span class="st">""</span>)<span class="op">;</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>}</span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="kw">function</span> <span class="fu">browseForFolder</span>(promptText) {</span>
<span id="cb5-13"><a href="#cb5-13"></a>    <span class="kw">var</span> shell <span class="op">=</span> <span class="kw">new</span> <span class="fu">ActiveXObject</span>(<span class="st">"Shell.Application"</span>)<span class="op">;</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>    <span class="kw">var</span> folder <span class="op">=</span> shell<span class="op">.</span><span class="fu">BrowseForFolder</span>(<span class="dv">0</span><span class="op">,</span> promptText<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb5-15"><a href="#cb5-15"></a>    <span class="cf">return</span> folder <span class="op">?</span> folder<span class="op">.</span><span class="at">Self</span><span class="op">.</span><span class="at">Path</span> <span class="op">:</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb5-16"><a href="#cb5-16"></a>}</span>
<span id="cb5-17"><a href="#cb5-17"></a></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb5-19"><a href="#cb5-19"></a>    <span class="kw">var</span> pkg <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetTreeSelectedPackage</span>()<span class="op">;</span></span>
<span id="cb5-20"><a href="#cb5-20"></a>    <span class="cf">if</span> (<span class="op">!</span>pkg) { Session<span class="op">.</span><span class="fu">Prompt</span>(<span class="st">"Select a package."</span><span class="op">,</span> promptOK)<span class="op">;</span> <span class="cf">return</span><span class="op">;</span> }</span>
<span id="cb5-21"><a href="#cb5-21"></a></span>
<span id="cb5-22"><a href="#cb5-22"></a>    <span class="kw">var</span> outDir <span class="op">=</span> <span class="fu">browseForFolder</span>(<span class="st">"Select output folder for governance CSV"</span>)<span class="op">;</span></span>
<span id="cb5-23"><a href="#cb5-23"></a>    <span class="cf">if</span> (<span class="op">!</span>outDir) <span class="cf">return</span><span class="op">;</span></span>
<span id="cb5-24"><a href="#cb5-24"></a></span>
<span id="cb5-25"><a href="#cb5-25"></a>    <span class="kw">var</span> fso <span class="op">=</span> <span class="kw">new</span> <span class="fu">ActiveXObject</span>(<span class="st">"Scripting.FileSystemObject"</span>)<span class="op">;</span></span>
<span id="cb5-26"><a href="#cb5-26"></a>    <span class="kw">var</span> stamp <span class="op">=</span> (<span class="kw">new</span> <span class="bu">Date</span>())<span class="op">.</span><span class="fu">getTime</span>()<span class="op">;</span></span>
<span id="cb5-27"><a href="#cb5-27"></a>    <span class="kw">var</span> path <span class="op">=</span> outDir <span class="op">+</span> <span class="st">"</span><span class="sc">\\</span><span class="st">governance_report_"</span> <span class="op">+</span> stamp <span class="op">+</span> <span class="st">".csv"</span><span class="op">;</span></span>
<span id="cb5-28"><a href="#cb5-28"></a>    <span class="kw">var</span> file <span class="op">=</span> fso<span class="op">.</span><span class="fu">CreateTextFile</span>(path<span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb5-29"><a href="#cb5-29"></a></span>
<span id="cb5-30"><a href="#cb5-30"></a>    file<span class="op">.</span><span class="fu">WriteLine</span>(<span class="st">"IssueType,ElementID,Name,Details"</span>)<span class="op">;</span></span>
<span id="cb5-31"><a href="#cb5-31"></a></span>
<span id="cb5-32"><a href="#cb5-32"></a>    <span class="kw">var</span> els <span class="op">=</span> pkg<span class="op">.</span><span class="at">Elements</span><span class="op">;</span></span>
<span id="cb5-33"><a href="#cb5-33"></a>    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>els<span class="op">.</span><span class="at">Count</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb5-34"><a href="#cb5-34"></a>        <span class="kw">var</span> e <span class="op">=</span> els<span class="op">.</span><span class="fu">GetAt</span>(i)<span class="op">;</span></span>
<span id="cb5-35"><a href="#cb5-35"></a></span>
<span id="cb5-36"><a href="#cb5-36"></a>        <span class="co">// Naming check</span></span>
<span id="cb5-37"><a href="#cb5-37"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Requirement"</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu">startsWith</span>(e<span class="op">.</span><span class="at">Name</span><span class="op">,</span> <span class="st">"REQ_"</span>)) {</span>
<span id="cb5-38"><a href="#cb5-38"></a>            file<span class="op">.</span><span class="fu">WriteLine</span>(<span class="st">"Naming,"</span><span class="op">+</span>e<span class="op">.</span><span class="at">ElementID</span><span class="op">+</span><span class="st">","</span><span class="op">+</span>e<span class="op">.</span><span class="at">Name</span><span class="op">+</span><span class="st">",Missing REQ_ prefix"</span>)<span class="op">;</span></span>
<span id="cb5-39"><a href="#cb5-39"></a>        }</span>
<span id="cb5-40"><a href="#cb5-40"></a></span>
<span id="cb5-41"><a href="#cb5-41"></a>        <span class="co">// Orphan check</span></span>
<span id="cb5-42"><a href="#cb5-42"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Connectors</span><span class="op">.</span><span class="at">Count</span> <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb5-43"><a href="#cb5-43"></a>            file<span class="op">.</span><span class="fu">WriteLine</span>(<span class="st">"Orphan,"</span><span class="op">+</span>e<span class="op">.</span><span class="at">ElementID</span><span class="op">+</span><span class="st">","</span><span class="op">+</span>e<span class="op">.</span><span class="at">Name</span><span class="op">+</span><span class="st">",No connectors"</span>)<span class="op">;</span></span>
<span id="cb5-44"><a href="#cb5-44"></a>        }</span>
<span id="cb5-45"><a href="#cb5-45"></a></span>
<span id="cb5-46"><a href="#cb5-46"></a>        <span class="co">// Traceability check</span></span>
<span id="cb5-47"><a href="#cb5-47"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Requirement"</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu">hasCapabilityTrace</span>(e)) {</span>
<span id="cb5-48"><a href="#cb5-48"></a>            file<span class="op">.</span><span class="fu">WriteLine</span>(<span class="st">"Traceability,"</span><span class="op">+</span>e<span class="op">.</span><span class="at">ElementID</span><span class="op">+</span><span class="st">","</span><span class="op">+</span>e<span class="op">.</span><span class="at">Name</span><span class="op">+</span><span class="st">",No Capability trace"</span>)<span class="op">;</span></span>
<span id="cb5-49"><a href="#cb5-49"></a>        }</span>
<span id="cb5-50"><a href="#cb5-50"></a>    }</span>
<span id="cb5-51"><a href="#cb5-51"></a></span>
<span id="cb5-52"><a href="#cb5-52"></a>    file<span class="op">.</span><span class="fu">Close</span>()<span class="op">;</span></span>
<span id="cb5-53"><a href="#cb5-53"></a>    Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Governance report written → "</span> <span class="op">+</span> path)<span class="op">;</span></span>
<span id="cb5-54"><a href="#cb5-54"></a>}</span>
<span id="cb5-55"><a href="#cb5-55"></a></span>
<span id="cb5-56"><a href="#cb5-56"></a><span class="kw">function</span> <span class="fu">startsWith</span>(str<span class="op">,</span> prefix) {</span>
<span id="cb5-57"><a href="#cb5-57"></a>    <span class="cf">return</span> <span class="bu">String</span>(str<span class="op">||</span><span class="st">""</span>)<span class="op">.</span><span class="fu">indexOf</span>(prefix) <span class="op">===</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-58"><a href="#cb5-58"></a>}</span>
<span id="cb5-59"><a href="#cb5-59"></a><span class="kw">function</span> <span class="fu">hasCapabilityTrace</span>(e) {</span>
<span id="cb5-60"><a href="#cb5-60"></a>    <span class="kw">var</span> cons <span class="op">=</span> e<span class="op">.</span><span class="at">Connectors</span><span class="op">;</span></span>
<span id="cb5-61"><a href="#cb5-61"></a>    <span class="cf">for</span> (<span class="kw">var</span> j<span class="op">=</span><span class="dv">0</span><span class="op">;</span> j<span class="op">&lt;</span>cons<span class="op">.</span><span class="at">Count</span><span class="op">;</span> j<span class="op">++</span>) {</span>
<span id="cb5-62"><a href="#cb5-62"></a>        <span class="kw">var</span> c <span class="op">=</span> cons<span class="op">.</span><span class="fu">GetAt</span>(j)<span class="op">;</span></span>
<span id="cb5-63"><a href="#cb5-63"></a>        <span class="cf">if</span> (c<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Realisation"</span> <span class="op">||</span> c<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Realization"</span>) {</span>
<span id="cb5-64"><a href="#cb5-64"></a>            <span class="kw">var</span> target <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetElementByID</span>(c<span class="op">.</span><span class="at">SupplierID</span>)<span class="op">;</span></span>
<span id="cb5-65"><a href="#cb5-65"></a>            <span class="cf">if</span> (target <span class="op">&amp;&amp;</span> target<span class="op">.</span><span class="at">Stereotype</span> <span class="op">==</span> <span class="st">"Capability"</span>) <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb5-66"><a href="#cb5-66"></a>        }</span>
<span id="cb5-67"><a href="#cb5-67"></a>    }</span>
<span id="cb5-68"><a href="#cb5-68"></a>    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb5-69"><a href="#cb5-69"></a>}</span>
<span id="cb5-70"><a href="#cb5-70"></a></span>
<span id="cb5-71"><a href="#cb5-71"></a><span class="fu">main</span>()<span class="op">;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>Governance scripts are simple but powerful. They let you:</p>
<ul>
<li><p>Enforce naming standards (Example 10.1).</p></li>
<li><p>Detect structural smells like orphans and duplicates (Examples 10.2 &amp; 10.3).</p></li>
<li><p>Check coverage and traceability (Example 10.4).</p></li>
<li><p>Export reports for human review (Example 10.5).</p></li>
</ul>
<p>Together, these create a <strong>living quality gate</strong> for your repository — fast, repeatable, and objective.</p>


<!-- -->

</section>

</main> <!-- /main -->
<script>

document.addEventListener('DOMContentLoaded', function () {

  // Prefer the margin sidebar if it exists; otherwise try the TOC sidebar.

  const margin = document.querySelector('#quarto-margin-sidebar, .margin-sidebar, .column-margin');

  const toc    = document.querySelector('nav#TOC');

  const sidebar = margin || (toc && toc.closest('.sidebar, .quarto-sidebar, .margin-sidebar'));



  if (!sidebar) return; // no margin column on this layout



  const holder = document.createElement('div');

  holder.className = 'cover-above-toc';

  holder.innerHTML = `

    <a href="index.html">

      <img src="images/cover.png" alt="Book cover" class="cover-above-toc__img" width="140" />

    </a>

  `;

  sidebar.prepend(holder);

});

</script>



<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./11-System.Object[].html" class="pagination-link" aria-label="Chapter 10: MDG-Aware Scripting">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Chapter 10: MDG-Aware Scripting</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./13-System.Object[].html" class="pagination-link" aria-label="Chapter 12: Cookbook of Examples">
        <span class="nav-page-text"><span class="chapter-title">Chapter 12: Cookbook of Examples</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu"># Chapter 11: Governance Scripts</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a>Governance is one of the most important and least glamorous aspects of</span>
<span id="cb6-4"><a href="#cb6-4"></a>modelling. It is the quiet discipline that ensures models remain</span>
<span id="cb6-5"><a href="#cb6-5"></a>trustworthy, consistent, and usable over time. Without governance,</span>
<span id="cb6-6"><a href="#cb6-6"></a>repositories decay. Naming conventions drift, orphaned elements</span>
<span id="cb6-7"><a href="#cb6-7"></a>accumulate, stereotypes are misapplied, and diagrams no longer reflect</span>
<span id="cb6-8"><a href="#cb6-8"></a>reality. A model that begins as a clear architectural guide slowly</span>
<span id="cb6-9"><a href="#cb6-9"></a>becomes a jungle of inconsistencies, and eventually stakeholders stop</span>
<span id="cb6-10"><a href="#cb6-10"></a>trusting it.</span>
<span id="cb6-11"><a href="#cb6-11"></a></span>
<span id="cb6-12"><a href="#cb6-12"></a>Enterprise Architect provides some built-in validation features, but</span>
<span id="cb6-13"><a href="#cb6-13"></a>governance at scale requires automation. This is where **governance</span>
<span id="cb6-14"><a href="#cb6-14"></a>scripts** come in. They act as model guardians: scanning repositories</span>
<span id="cb6-15"><a href="#cb6-15"></a>for violations, enforcing standards, and generating objective reports on</span>
<span id="cb6-16"><a href="#cb6-16"></a>quality. They take subjective debates about “style” and turn them into</span>
<span id="cb6-17"><a href="#cb6-17"></a>automated checks that either pass or fail. In doing so, they transform</span>
<span id="cb6-18"><a href="#cb6-18"></a>governance from a painful, manual process into a manageable and</span>
<span id="cb6-19"><a href="#cb6-19"></a>repeatable workflow.</span>
<span id="cb6-20"><a href="#cb6-20"></a></span>
<span id="cb6-21"><a href="#cb6-21"></a>This chapter introduces the concept of governance scripts. It explains</span>
<span id="cb6-22"><a href="#cb6-22"></a>why governance matters, what kinds of issues can be checked, how</span>
<span id="cb6-23"><a href="#cb6-23"></a>automation changes the governance process, and why scripting is uniquely</span>
<span id="cb6-24"><a href="#cb6-24"></a>suited to this role. It also emphasises the importance of balance:</span>
<span id="cb6-25"><a href="#cb6-25"></a>governance should not be punitive or bureaucratic, but enabling — a way</span>
<span id="cb6-26"><a href="#cb6-26"></a>to help modellers do good work with confidence.</span>
<span id="cb6-27"><a href="#cb6-27"></a></span>
<span id="cb6-28"><a href="#cb6-28"></a><span class="fu">## Why Governance Matters</span></span>
<span id="cb6-29"><a href="#cb6-29"></a></span>
<span id="cb6-30"><a href="#cb6-30"></a>Models are living artefacts. They are updated by many people over months</span>
<span id="cb6-31"><a href="#cb6-31"></a>or years. Left unchecked, even small deviations accumulate into serious</span>
<span id="cb6-32"><a href="#cb6-32"></a>problems:</span>
<span id="cb6-33"><a href="#cb6-33"></a></span>
<span id="cb6-34"><a href="#cb6-34"></a><span class="ss">- </span>Inconsistent naming makes elements hard to find.</span>
<span id="cb6-35"><a href="#cb6-35"></a></span>
<span id="cb6-36"><a href="#cb6-36"></a><span class="ss">- </span>Missing tags leave models unfit for analysis.</span>
<span id="cb6-37"><a href="#cb6-37"></a></span>
<span id="cb6-38"><a href="#cb6-38"></a><span class="ss">- </span>Incorrect connectors break traceability.</span>
<span id="cb6-39"><a href="#cb6-39"></a></span>
<span id="cb6-40"><a href="#cb6-40"></a><span class="ss">- </span>Duplicated elements cause confusion in reports.</span>
<span id="cb6-41"><a href="#cb6-41"></a></span>
<span id="cb6-42"><a href="#cb6-42"></a><span class="ss">- </span>Orphaned elements give the illusion of coverage but no actual linkage.</span>
<span id="cb6-43"><a href="#cb6-43"></a></span>
<span id="cb6-44"><a href="#cb6-44"></a>Governance provides the antidote. It ensures the model remains a</span>
<span id="cb6-45"><a href="#cb6-45"></a>reliable foundation for decision-making, documentation, and integration</span>
<span id="cb6-46"><a href="#cb6-46"></a>with other tools.</span>
<span id="cb6-47"><a href="#cb6-47"></a></span>
<span id="cb6-48"><a href="#cb6-48"></a><span class="fu">## The Pain of Manual Governance</span></span>
<span id="cb6-49"><a href="#cb6-49"></a></span>
<span id="cb6-50"><a href="#cb6-50"></a>Traditionally, governance has been manual: reviewers inspect models,</span>
<span id="cb6-51"><a href="#cb6-51"></a>checklists are filled in, and corrective actions assigned. This is slow,</span>
<span id="cb6-52"><a href="#cb6-52"></a>subjective, and demoralising. Architects end up spending more time</span>
<span id="cb6-53"><a href="#cb6-53"></a>policing modellers than doing architecture. Reviewers argue about style</span>
<span id="cb6-54"><a href="#cb6-54"></a>rather than substance. And problems are often caught late, when</span>
<span id="cb6-55"><a href="#cb6-55"></a>correcting them is expensive.</span>
<span id="cb6-56"><a href="#cb6-56"></a></span>
<span id="cb6-57"><a href="#cb6-57"></a>Manual governance is also inconsistent. Different reviewers may apply</span>
<span id="cb6-58"><a href="#cb6-58"></a>different standards, leading to confusion and resentment. The result is</span>
<span id="cb6-59"><a href="#cb6-59"></a>often governance fatigue: modellers stop caring, reviewers stop</span>
<span id="cb6-60"><a href="#cb6-60"></a>enforcing, and quality slides.</span>
<span id="cb6-61"><a href="#cb6-61"></a></span>
<span id="cb6-62"><a href="#cb6-62"></a><span class="fu">### The Case for Automation</span></span>
<span id="cb6-63"><a href="#cb6-63"></a></span>
<span id="cb6-64"><a href="#cb6-64"></a>Scripting changes the dynamic completely. With governance scripts,</span>
<span id="cb6-65"><a href="#cb6-65"></a>checks are automated, repeatable, and objective. A script does not get</span>
<span id="cb6-66"><a href="#cb6-66"></a>tired, bored, or inconsistent. It simply scans the repository and</span>
<span id="cb6-67"><a href="#cb6-67"></a>reports results.</span>
<span id="cb6-68"><a href="#cb6-68"></a></span>
<span id="cb6-69"><a href="#cb6-69"></a>Benefits include:</span>
<span id="cb6-70"><a href="#cb6-70"></a></span>
<span id="cb6-71"><a href="#cb6-71"></a><span class="ss">- </span>**Speed**: thousands of elements can be checked in seconds.</span>
<span id="cb6-72"><a href="#cb6-72"></a></span>
<span id="cb6-73"><a href="#cb6-73"></a><span class="ss">- </span>**Objectivity**: standards are enforced consistently.</span>
<span id="cb6-74"><a href="#cb6-74"></a></span>
<span id="cb6-75"><a href="#cb6-75"></a><span class="ss">- </span>**Transparency**: logs show exactly what passed and failed.</span>
<span id="cb6-76"><a href="#cb6-76"></a></span>
<span id="cb6-77"><a href="#cb6-77"></a><span class="ss">- </span>**Scalability**: large repositories can be governed without</span>
<span id="cb6-78"><a href="#cb6-78"></a>  multiplying staff effort.</span>
<span id="cb6-79"><a href="#cb6-79"></a></span>
<span id="cb6-80"><a href="#cb6-80"></a>Automated governance also changes culture. Instead of governance being</span>
<span id="cb6-81"><a href="#cb6-81"></a>seen as policing, it becomes part of normal workflow. Modellers can run</span>
<span id="cb6-82"><a href="#cb6-82"></a>scripts themselves before committing changes, catching issues early.</span>
<span id="cb6-83"><a href="#cb6-83"></a></span>
<span id="cb6-84"><a href="#cb6-84"></a><span class="fu">### What Governance Scripts Check</span></span>
<span id="cb6-85"><a href="#cb6-85"></a></span>
<span id="cb6-86"><a href="#cb6-86"></a>Governance scripts can cover many aspects of model quality. Common</span>
<span id="cb6-87"><a href="#cb6-87"></a>categories include:</span>
<span id="cb6-88"><a href="#cb6-88"></a></span>
<span id="cb6-89"><a href="#cb6-89"></a><span class="ss">- </span>**Naming conventions**: e.g., requirements must start with REQ<span class="sc">\_</span>,</span>
<span id="cb6-90"><a href="#cb6-90"></a>  capabilities with BC<span class="sc">\_</span>.</span>
<span id="cb6-91"><a href="#cb6-91"></a></span>
<span id="cb6-92"><a href="#cb6-92"></a><span class="ss">- </span>**Stereotype compliance**: only approved stereotypes may be used.</span>
<span id="cb6-93"><a href="#cb6-93"></a></span>
<span id="cb6-94"><a href="#cb6-94"></a><span class="ss">- </span>**Tagged value completeness**: certain tags must exist and be</span>
<span id="cb6-95"><a href="#cb6-95"></a>  populated.</span>
<span id="cb6-96"><a href="#cb6-96"></a></span>
<span id="cb6-97"><a href="#cb6-97"></a><span class="ss">- </span>**Connector rules**: e.g., only ApplicationComponents may realise</span>
<span id="cb6-98"><a href="#cb6-98"></a>  Capabilities.</span>
<span id="cb6-99"><a href="#cb6-99"></a></span>
<span id="cb6-100"><a href="#cb6-100"></a><span class="ss">- </span>**Model smells**: orphaned elements, duplicate names, unused diagrams.</span>
<span id="cb6-101"><a href="#cb6-101"></a></span>
<span id="cb6-102"><a href="#cb6-102"></a><span class="ss">- </span>**Coverage checks**: every requirement must trace to a capability,</span>
<span id="cb6-103"><a href="#cb6-103"></a>  every component to a service.</span>
<span id="cb6-104"><a href="#cb6-104"></a></span>
<span id="cb6-105"><a href="#cb6-105"></a>These checks can be run as reports or as enforcement scripts that</span>
<span id="cb6-106"><a href="#cb6-106"></a>auto-correct issues.</span>
<span id="cb6-107"><a href="#cb6-107"></a></span>
<span id="cb6-108"><a href="#cb6-108"></a><span class="fu">### From Policing to Enablement</span></span>
<span id="cb6-109"><a href="#cb6-109"></a></span>
<span id="cb6-110"><a href="#cb6-110"></a>One danger of governance automation is that it can become heavy-handed:</span>
<span id="cb6-111"><a href="#cb6-111"></a>modellers feel constrained and demotivated. The key is to frame</span>
<span id="cb6-112"><a href="#cb6-112"></a>governance as **enablement, not punishment**. Scripts are there to help,</span>
<span id="cb6-113"><a href="#cb6-113"></a>not hinder.</span>
<span id="cb6-114"><a href="#cb6-114"></a></span>
<span id="cb6-115"><a href="#cb6-115"></a>For example:</span>
<span id="cb6-116"><a href="#cb6-116"></a></span>
<span id="cb6-117"><a href="#cb6-117"></a><span class="ss">- </span>A script that renames elements automatically to match conventions</span>
<span id="cb6-118"><a href="#cb6-118"></a>  saves modellers time.</span>
<span id="cb6-119"><a href="#cb6-119"></a></span>
<span id="cb6-120"><a href="#cb6-120"></a><span class="ss">- </span>A script that adds missing tags reduces manual entry.</span>
<span id="cb6-121"><a href="#cb6-121"></a></span>
<span id="cb6-122"><a href="#cb6-122"></a><span class="ss">- </span>A script that reports orphans gives clear guidance for cleanup.</span>
<span id="cb6-123"><a href="#cb6-123"></a></span>
<span id="cb6-124"><a href="#cb6-124"></a>When governance scripts are seen as helpers, adoption increases.</span>
<span id="cb6-125"><a href="#cb6-125"></a></span>
<span id="cb6-126"><a href="#cb6-126"></a><span class="fu">### Governance as Quality Assurance</span></span>
<span id="cb6-127"><a href="#cb6-127"></a></span>
<span id="cb6-128"><a href="#cb6-128"></a>Governance is not separate from quality; it is quality assurance for</span>
<span id="cb6-129"><a href="#cb6-129"></a>models. Just as code is tested by unit tests and static analysis, models</span>
<span id="cb6-130"><a href="#cb6-130"></a>should be tested by governance scripts. This analogy is powerful:</span>
<span id="cb6-131"><a href="#cb6-131"></a>modellers begin to see governance not as red tape but as the modelling</span>
<span id="cb6-132"><a href="#cb6-132"></a>equivalent of running tests. Passing governance checks means your model</span>
<span id="cb6-133"><a href="#cb6-133"></a>is ready for use.</span>
<span id="cb6-134"><a href="#cb6-134"></a></span>
<span id="cb6-135"><a href="#cb6-135"></a><span class="fu">### Levels of Governance</span></span>
<span id="cb6-136"><a href="#cb6-136"></a></span>
<span id="cb6-137"><a href="#cb6-137"></a>Governance can be applied at different levels:</span>
<span id="cb6-138"><a href="#cb6-138"></a></span>
<span id="cb6-139"><a href="#cb6-139"></a><span class="ss">- </span>**Local**: a modeller runs a script on their package before</span>
<span id="cb6-140"><a href="#cb6-140"></a>  publishing.</span>
<span id="cb6-141"><a href="#cb6-141"></a></span>
<span id="cb6-142"><a href="#cb6-142"></a><span class="ss">- </span>**Team**: governance scripts are run during reviews or milestones.</span>
<span id="cb6-143"><a href="#cb6-143"></a></span>
<span id="cb6-144"><a href="#cb6-144"></a><span class="ss">- </span>**Enterprise**: scheduled jobs scan the whole repository and produce</span>
<span id="cb6-145"><a href="#cb6-145"></a>  dashboards.</span>
<span id="cb6-146"><a href="#cb6-146"></a></span>
<span id="cb6-147"><a href="#cb6-147"></a>Scripting supports all three levels. Internal scripts are ideal for</span>
<span id="cb6-148"><a href="#cb6-148"></a>local checks. External automation can handle enterprise-wide scans and</span>
<span id="cb6-149"><a href="#cb6-149"></a>reporting.</span>
<span id="cb6-150"><a href="#cb6-150"></a></span>
<span id="cb6-151"><a href="#cb6-151"></a><span class="fu">### Reporting and Transparency</span></span>
<span id="cb6-152"><a href="#cb6-152"></a></span>
<span id="cb6-153"><a href="#cb6-153"></a>The value of governance scripts is not only in enforcement but also in</span>
<span id="cb6-154"><a href="#cb6-154"></a>**reporting**. A script that logs issues to CSV can feed dashboards or</span>
<span id="cb6-155"><a href="#cb6-155"></a>be shared in review meetings. Reports provide evidence of compliance,</span>
<span id="cb6-156"><a href="#cb6-156"></a>useful for audits or regulatory contexts.</span>
<span id="cb6-157"><a href="#cb6-157"></a></span>
<span id="cb6-158"><a href="#cb6-158"></a>Transparency is key: modellers must be able to see why something failed</span>
<span id="cb6-159"><a href="#cb6-159"></a>and how to fix it. A governance report that simply says “non-compliant”</span>
<span id="cb6-160"><a href="#cb6-160"></a>is not helpful. A report that lists exactly which elements are missing</span>
<span id="cb6-161"><a href="#cb6-161"></a>which tags is actionable.</span>
<span id="cb6-162"><a href="#cb6-162"></a></span>
<span id="cb6-163"><a href="#cb6-163"></a><span class="fu">## Governance and MDGs</span></span>
<span id="cb6-164"><a href="#cb6-164"></a></span>
<span id="cb6-165"><a href="#cb6-165"></a>As Chapter 9 explained, MDGs define the modelling language in use.</span>
<span id="cb6-166"><a href="#cb6-166"></a>Governance scripts must respect MDGs: checking that stereotypes are used</span>
<span id="cb6-167"><a href="#cb6-167"></a>correctly, tags are populated, and connector rules are followed. This</span>
<span id="cb6-168"><a href="#cb6-168"></a>alignment ensures that automation reinforces, rather than undermines,</span>
<span id="cb6-169"><a href="#cb6-169"></a>the MDG.</span>
<span id="cb6-170"><a href="#cb6-170"></a></span>
<span id="cb6-171"><a href="#cb6-171"></a>For example, a governance script for an ArchiMate MDG might check that</span>
<span id="cb6-172"><a href="#cb6-172"></a>every ApplicationComponent has a Layer tag and that only</span>
<span id="cb6-173"><a href="#cb6-173"></a>ApplicationComponents realise Capabilities.</span>
<span id="cb6-174"><a href="#cb6-174"></a></span>
<span id="cb6-175"><a href="#cb6-175"></a><span class="fu">## Examples</span></span>
<span id="cb6-176"><a href="#cb6-176"></a></span>
<span id="cb6-177"><a href="#cb6-177"></a><span class="fu">### Naming Conventions</span></span>
<span id="cb6-178"><a href="#cb6-178"></a><span class="in">```{.js filename="Example 11.1 - Gov_NamingConvention.js – JScript (ES3)"}</span></span>
<span id="cb6-179"><a href="#cb6-179"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb6-180"><a href="#cb6-180"></a><span class="co">// Example 11.1 - Gov_NamingConvention.js – JScript (ES3)</span></span>
<span id="cb6-181"><a href="#cb6-181"></a><span class="co">// Purpose: Enforce naming convention "REQ_" for Requirement elements</span></span>
<span id="cb6-182"><a href="#cb6-182"></a><span class="co">// Safety: DRY_RUN = true by default</span></span>
<span id="cb6-183"><a href="#cb6-183"></a><span class="co">// Output: Logs violations, optional repair</span></span>
<span id="cb6-184"><a href="#cb6-184"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb6-185"><a href="#cb6-185"></a><span class="op">!</span>INC Local Scripts<span class="op">.</span><span class="at">EAConstants</span><span class="op">-</span>JScript</span>
<span id="cb6-186"><a href="#cb6-186"></a></span>
<span id="cb6-187"><a href="#cb6-187"></a><span class="kw">function</span> <span class="fu">trim</span>(str) {</span>
<span id="cb6-188"><a href="#cb6-188"></a>    <span class="cf">if</span> (str <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> str <span class="op">==</span> <span class="kw">undefined</span>) <span class="cf">return</span> <span class="st">""</span><span class="op">;</span></span>
<span id="cb6-189"><a href="#cb6-189"></a>    <span class="cf">return</span> <span class="bu">String</span>(str)<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">^\s+|\s+$</span><span class="ss">/g</span><span class="op">,</span> <span class="st">""</span>)<span class="op">;</span></span>
<span id="cb6-190"><a href="#cb6-190"></a>}</span>
<span id="cb6-191"><a href="#cb6-191"></a><span class="kw">function</span> <span class="fu">startsWith</span>(str<span class="op">,</span> prefix) {</span>
<span id="cb6-192"><a href="#cb6-192"></a>    <span class="cf">return</span> <span class="bu">String</span>(str<span class="op">||</span><span class="st">""</span>)<span class="op">.</span><span class="fu">indexOf</span>(prefix) <span class="op">===</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-193"><a href="#cb6-193"></a>}</span>
<span id="cb6-194"><a href="#cb6-194"></a></span>
<span id="cb6-195"><a href="#cb6-195"></a><span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb6-196"><a href="#cb6-196"></a>    <span class="kw">var</span> DRY_RUN <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb6-197"><a href="#cb6-197"></a>    <span class="kw">var</span> PREFIX  <span class="op">=</span> <span class="st">"REQ_"</span><span class="op">;</span></span>
<span id="cb6-198"><a href="#cb6-198"></a></span>
<span id="cb6-199"><a href="#cb6-199"></a>    <span class="kw">var</span> pkg <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetTreeSelectedPackage</span>()<span class="op">;</span></span>
<span id="cb6-200"><a href="#cb6-200"></a>    <span class="cf">if</span> (<span class="op">!</span>pkg) { Session<span class="op">.</span><span class="fu">Prompt</span>(<span class="st">"Select a package."</span><span class="op">,</span> promptOK)<span class="op">;</span> <span class="cf">return</span><span class="op">;</span> }</span>
<span id="cb6-201"><a href="#cb6-201"></a></span>
<span id="cb6-202"><a href="#cb6-202"></a>    <span class="kw">var</span> els <span class="op">=</span> pkg<span class="op">.</span><span class="at">Elements</span><span class="op">;</span></span>
<span id="cb6-203"><a href="#cb6-203"></a>    <span class="kw">var</span> fixed<span class="op">=</span><span class="dv">0</span><span class="op">,</span> issues<span class="op">=</span><span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-204"><a href="#cb6-204"></a>    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>els<span class="op">.</span><span class="at">Count</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb6-205"><a href="#cb6-205"></a>        <span class="kw">var</span> e <span class="op">=</span> els<span class="op">.</span><span class="fu">GetAt</span>(i)<span class="op">;</span></span>
<span id="cb6-206"><a href="#cb6-206"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Requirement"</span>) {</span>
<span id="cb6-207"><a href="#cb6-207"></a>            <span class="cf">if</span> (<span class="op">!</span><span class="fu">startsWith</span>(e<span class="op">.</span><span class="at">Name</span><span class="op">,</span> PREFIX)) {</span>
<span id="cb6-208"><a href="#cb6-208"></a>                issues<span class="op">++;</span></span>
<span id="cb6-209"><a href="#cb6-209"></a>                <span class="kw">var</span> newName <span class="op">=</span> PREFIX <span class="op">+</span> <span class="fu">trim</span>(e<span class="op">.</span><span class="at">Name</span>)<span class="op">;</span></span>
<span id="cb6-210"><a href="#cb6-210"></a>                Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Naming issue: "</span> <span class="op">+</span> e<span class="op">.</span><span class="at">Name</span> <span class="op">+</span> <span class="st">" → "</span> <span class="op">+</span> newName)<span class="op">;</span></span>
<span id="cb6-211"><a href="#cb6-211"></a>                <span class="cf">if</span> (<span class="op">!</span>DRY_RUN) {</span>
<span id="cb6-212"><a href="#cb6-212"></a>                    e<span class="op">.</span><span class="at">Name</span> <span class="op">=</span> newName<span class="op">;</span></span>
<span id="cb6-213"><a href="#cb6-213"></a>                    e<span class="op">.</span><span class="fu">Update</span>()<span class="op">;</span></span>
<span id="cb6-214"><a href="#cb6-214"></a>                    fixed<span class="op">++;</span></span>
<span id="cb6-215"><a href="#cb6-215"></a>                }</span>
<span id="cb6-216"><a href="#cb6-216"></a>            }</span>
<span id="cb6-217"><a href="#cb6-217"></a>        }</span>
<span id="cb6-218"><a href="#cb6-218"></a>    }</span>
<span id="cb6-219"><a href="#cb6-219"></a>    <span class="cf">if</span> (<span class="op">!</span>DRY_RUN <span class="op">&amp;&amp;</span> fixed<span class="op">&gt;</span><span class="dv">0</span>) Repository<span class="op">.</span><span class="fu">RefreshModelView</span>(pkg<span class="op">.</span><span class="at">PackageID</span>)<span class="op">;</span></span>
<span id="cb6-220"><a href="#cb6-220"></a>    Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Issues="</span> <span class="op">+</span> issues <span class="op">+</span> <span class="st">" Fixed="</span> <span class="op">+</span> fixed <span class="op">+</span> <span class="st">" Dry-run="</span> <span class="op">+</span> DRY_RUN)<span class="op">;</span></span>
<span id="cb6-221"><a href="#cb6-221"></a>}</span>
<span id="cb6-222"><a href="#cb6-222"></a></span>
<span id="cb6-223"><a href="#cb6-223"></a><span class="fu">main</span>()<span class="op">;</span></span>
<span id="cb6-224"><a href="#cb6-224"></a><span class="in">```</span></span>
<span id="cb6-225"><a href="#cb6-225"></a></span>
<span id="cb6-226"><a href="#cb6-226"></a><span class="fu">### Model Smells</span></span>
<span id="cb6-227"><a href="#cb6-227"></a><span class="in">```{.js filename="Example 11.1 - Gov_NamingConvention.js – JScript (ES3)"}</span></span>
<span id="cb6-228"><a href="#cb6-228"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb6-229"><a href="#cb6-229"></a><span class="co">// Example 11.2 - Gov_ModelSmells_Orphans.js – JScript (ES3)</span></span>
<span id="cb6-230"><a href="#cb6-230"></a><span class="co">// Purpose: Find elements without any connectors (orphans)</span></span>
<span id="cb6-231"><a href="#cb6-231"></a><span class="co">// Output: Report-only</span></span>
<span id="cb6-232"><a href="#cb6-232"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb6-233"><a href="#cb6-233"></a><span class="op">!</span>INC Local Scripts<span class="op">.</span><span class="at">EAConstants</span><span class="op">-</span>JScript</span>
<span id="cb6-234"><a href="#cb6-234"></a></span>
<span id="cb6-235"><a href="#cb6-235"></a><span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb6-236"><a href="#cb6-236"></a>    <span class="kw">var</span> pkg <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetTreeSelectedPackage</span>()<span class="op">;</span></span>
<span id="cb6-237"><a href="#cb6-237"></a>    <span class="cf">if</span> (<span class="op">!</span>pkg) { Session<span class="op">.</span><span class="fu">Prompt</span>(<span class="st">"Select a package."</span><span class="op">,</span> promptOK)<span class="op">;</span> <span class="cf">return</span><span class="op">;</span> }</span>
<span id="cb6-238"><a href="#cb6-238"></a></span>
<span id="cb6-239"><a href="#cb6-239"></a>    <span class="kw">var</span> els <span class="op">=</span> pkg<span class="op">.</span><span class="at">Elements</span><span class="op">;</span></span>
<span id="cb6-240"><a href="#cb6-240"></a>    <span class="kw">var</span> orphans<span class="op">=</span><span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-241"><a href="#cb6-241"></a>    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>els<span class="op">.</span><span class="at">Count</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb6-242"><a href="#cb6-242"></a>        <span class="kw">var</span> e <span class="op">=</span> els<span class="op">.</span><span class="fu">GetAt</span>(i)<span class="op">;</span></span>
<span id="cb6-243"><a href="#cb6-243"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Connectors</span><span class="op">.</span><span class="at">Count</span> <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb6-244"><a href="#cb6-244"></a>            orphans<span class="op">++;</span></span>
<span id="cb6-245"><a href="#cb6-245"></a>            Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Orphan: "</span> <span class="op">+</span> e<span class="op">.</span><span class="at">Name</span> <span class="op">+</span> <span class="st">" ("</span> <span class="op">+</span> e<span class="op">.</span><span class="at">Type</span> <span class="op">+</span> <span class="st">")"</span>)<span class="op">;</span></span>
<span id="cb6-246"><a href="#cb6-246"></a>        }</span>
<span id="cb6-247"><a href="#cb6-247"></a>    }</span>
<span id="cb6-248"><a href="#cb6-248"></a>    Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Total orphans found: "</span> <span class="op">+</span> orphans)<span class="op">;</span></span>
<span id="cb6-249"><a href="#cb6-249"></a>}</span>
<span id="cb6-250"><a href="#cb6-250"></a></span>
<span id="cb6-251"><a href="#cb6-251"></a><span class="fu">main</span>()<span class="op">;</span></span>
<span id="cb6-252"><a href="#cb6-252"></a><span class="in">```</span></span>
<span id="cb6-253"><a href="#cb6-253"></a></span>
<span id="cb6-254"><a href="#cb6-254"></a><span class="fu">### Duplicate Elements</span></span>
<span id="cb6-255"><a href="#cb6-255"></a><span class="in">```{.js filename="Example 11.3 - Gov_ModelSmells_Duplicates.js – JScript (ES3)"}</span></span>
<span id="cb6-256"><a href="#cb6-256"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb6-257"><a href="#cb6-257"></a><span class="co">// Example 11.3 - Gov_ModelSmells_Duplicates.js – JScript (ES3)</span></span>
<span id="cb6-258"><a href="#cb6-258"></a><span class="co">// Purpose: Report duplicate element names within a package</span></span>
<span id="cb6-259"><a href="#cb6-259"></a><span class="co">// Output: Report-only</span></span>
<span id="cb6-260"><a href="#cb6-260"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb6-261"><a href="#cb6-261"></a><span class="op">!</span>INC Local Scripts<span class="op">.</span><span class="at">EAConstants</span><span class="op">-</span>JScript</span>
<span id="cb6-262"><a href="#cb6-262"></a></span>
<span id="cb6-263"><a href="#cb6-263"></a><span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb6-264"><a href="#cb6-264"></a>    <span class="kw">var</span> pkg <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetTreeSelectedPackage</span>()<span class="op">;</span></span>
<span id="cb6-265"><a href="#cb6-265"></a>    <span class="cf">if</span> (<span class="op">!</span>pkg) { Session<span class="op">.</span><span class="fu">Prompt</span>(<span class="st">"Select a package."</span><span class="op">,</span> promptOK)<span class="op">;</span> <span class="cf">return</span><span class="op">;</span> }</span>
<span id="cb6-266"><a href="#cb6-266"></a></span>
<span id="cb6-267"><a href="#cb6-267"></a>    <span class="kw">var</span> els <span class="op">=</span> pkg<span class="op">.</span><span class="at">Elements</span><span class="op">;</span></span>
<span id="cb6-268"><a href="#cb6-268"></a>    <span class="kw">var</span> seen <span class="op">=</span> {}<span class="op">;</span></span>
<span id="cb6-269"><a href="#cb6-269"></a>    <span class="kw">var</span> dups <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-270"><a href="#cb6-270"></a></span>
<span id="cb6-271"><a href="#cb6-271"></a>    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>els<span class="op">.</span><span class="at">Count</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb6-272"><a href="#cb6-272"></a>        <span class="kw">var</span> e <span class="op">=</span> els<span class="op">.</span><span class="fu">GetAt</span>(i)<span class="op">;</span></span>
<span id="cb6-273"><a href="#cb6-273"></a>        <span class="kw">var</span> name <span class="op">=</span> <span class="bu">String</span>(e<span class="op">.</span><span class="at">Name</span><span class="op">||</span><span class="st">""</span>)<span class="op">;</span></span>
<span id="cb6-274"><a href="#cb6-274"></a>        <span class="cf">if</span> (seen[name]) {</span>
<span id="cb6-275"><a href="#cb6-275"></a>            Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Duplicate name: "</span> <span class="op">+</span> name <span class="op">+</span> <span class="st">" (ElementID="</span> <span class="op">+</span> e<span class="op">.</span><span class="at">ElementID</span> <span class="op">+</span> <span class="st">")"</span>)<span class="op">;</span></span>
<span id="cb6-276"><a href="#cb6-276"></a>            dups<span class="op">++;</span></span>
<span id="cb6-277"><a href="#cb6-277"></a>        } <span class="cf">else</span> {</span>
<span id="cb6-278"><a href="#cb6-278"></a>            seen[name] <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb6-279"><a href="#cb6-279"></a>        }</span>
<span id="cb6-280"><a href="#cb6-280"></a>    }</span>
<span id="cb6-281"><a href="#cb6-281"></a>    Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Duplicate count: "</span> <span class="op">+</span> dups)<span class="op">;</span></span>
<span id="cb6-282"><a href="#cb6-282"></a>}</span>
<span id="cb6-283"><a href="#cb6-283"></a></span>
<span id="cb6-284"><a href="#cb6-284"></a><span class="fu">main</span>()<span class="op">;</span></span>
<span id="cb6-285"><a href="#cb6-285"></a><span class="in">```</span></span>
<span id="cb6-286"><a href="#cb6-286"></a></span>
<span id="cb6-287"><a href="#cb6-287"></a><span class="fu">### Coverage &amp; Traceability</span></span>
<span id="cb6-288"><a href="#cb6-288"></a></span>
<span id="cb6-289"><a href="#cb6-289"></a>Traceability rules ensure that modelled items are linked correctly</span>
<span id="cb6-290"><a href="#cb6-290"></a>(e.g., each requirement must trace to at least one capability).</span>
<span id="cb6-291"><a href="#cb6-291"></a></span>
<span id="cb6-292"><a href="#cb6-292"></a><span class="in">```{.js filename="Example 11.4 - Gov_Traceability_Check.js – JScript (ES3)"}</span></span>
<span id="cb6-293"><a href="#cb6-293"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb6-294"><a href="#cb6-294"></a><span class="co">// Example 11.4 - Gov_Traceability_Check.js – JScript (ES3)</span></span>
<span id="cb6-295"><a href="#cb6-295"></a><span class="co">// Purpose: Verify every Requirement in a package has at least one Realization link to a Capability</span></span>
<span id="cb6-296"><a href="#cb6-296"></a><span class="co">// Safety: Report-only</span></span>
<span id="cb6-297"><a href="#cb6-297"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb6-298"><a href="#cb6-298"></a><span class="op">!</span>INC Local Scripts<span class="op">.</span><span class="at">EAConstants</span><span class="op">-</span>JScript</span>
<span id="cb6-299"><a href="#cb6-299"></a></span>
<span id="cb6-300"><a href="#cb6-300"></a><span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb6-301"><a href="#cb6-301"></a>    <span class="kw">var</span> pkg <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetTreeSelectedPackage</span>()<span class="op">;</span></span>
<span id="cb6-302"><a href="#cb6-302"></a>    <span class="cf">if</span> (<span class="op">!</span>pkg) { Session<span class="op">.</span><span class="fu">Prompt</span>(<span class="st">"Select a package."</span><span class="op">,</span> promptOK)<span class="op">;</span> <span class="cf">return</span><span class="op">;</span> }</span>
<span id="cb6-303"><a href="#cb6-303"></a></span>
<span id="cb6-304"><a href="#cb6-304"></a>    <span class="kw">var</span> els <span class="op">=</span> pkg<span class="op">.</span><span class="at">Elements</span><span class="op">;</span></span>
<span id="cb6-305"><a href="#cb6-305"></a>    <span class="kw">var</span> missing<span class="op">=</span><span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-306"><a href="#cb6-306"></a>    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>els<span class="op">.</span><span class="at">Count</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb6-307"><a href="#cb6-307"></a>        <span class="kw">var</span> e <span class="op">=</span> els<span class="op">.</span><span class="fu">GetAt</span>(i)<span class="op">;</span></span>
<span id="cb6-308"><a href="#cb6-308"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Requirement"</span>) {</span>
<span id="cb6-309"><a href="#cb6-309"></a>            <span class="kw">var</span> cons <span class="op">=</span> e<span class="op">.</span><span class="at">Connectors</span><span class="op">;</span></span>
<span id="cb6-310"><a href="#cb6-310"></a>            <span class="kw">var</span> hasTrace <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb6-311"><a href="#cb6-311"></a>            <span class="cf">for</span> (<span class="kw">var</span> j<span class="op">=</span><span class="dv">0</span><span class="op">;</span> j<span class="op">&lt;</span>cons<span class="op">.</span><span class="at">Count</span><span class="op">;</span> j<span class="op">++</span>) {</span>
<span id="cb6-312"><a href="#cb6-312"></a>                <span class="kw">var</span> c <span class="op">=</span> cons<span class="op">.</span><span class="fu">GetAt</span>(j)<span class="op">;</span></span>
<span id="cb6-313"><a href="#cb6-313"></a>                <span class="cf">if</span> (c<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Realisation"</span> <span class="op">||</span> c<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Realization"</span>) {</span>
<span id="cb6-314"><a href="#cb6-314"></a>                    <span class="kw">var</span> target <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetElementByID</span>(c<span class="op">.</span><span class="at">SupplierID</span>)<span class="op">;</span></span>
<span id="cb6-315"><a href="#cb6-315"></a>                    <span class="cf">if</span> (target <span class="op">&amp;&amp;</span> target<span class="op">.</span><span class="at">Stereotype</span> <span class="op">==</span> <span class="st">"Capability"</span>) {</span>
<span id="cb6-316"><a href="#cb6-316"></a>                        hasTrace <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb6-317"><a href="#cb6-317"></a>                        <span class="cf">break</span><span class="op">;</span></span>
<span id="cb6-318"><a href="#cb6-318"></a>                    }</span>
<span id="cb6-319"><a href="#cb6-319"></a>                }</span>
<span id="cb6-320"><a href="#cb6-320"></a>            }</span>
<span id="cb6-321"><a href="#cb6-321"></a>            <span class="cf">if</span> (<span class="op">!</span>hasTrace) {</span>
<span id="cb6-322"><a href="#cb6-322"></a>                missing<span class="op">++;</span></span>
<span id="cb6-323"><a href="#cb6-323"></a>                Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Requirement without Capability trace: "</span> <span class="op">+</span> e<span class="op">.</span><span class="at">Name</span> <span class="op">+</span> <span class="st">" (ID="</span> <span class="op">+</span> e<span class="op">.</span><span class="at">ElementID</span> <span class="op">+</span> <span class="st">")"</span>)<span class="op">;</span></span>
<span id="cb6-324"><a href="#cb6-324"></a>            }</span>
<span id="cb6-325"><a href="#cb6-325"></a>        }</span>
<span id="cb6-326"><a href="#cb6-326"></a>    }</span>
<span id="cb6-327"><a href="#cb6-327"></a>    Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Traceability issues found: "</span> <span class="op">+</span> missing)<span class="op">;</span></span>
<span id="cb6-328"><a href="#cb6-328"></a>}</span>
<span id="cb6-329"><a href="#cb6-329"></a></span>
<span id="cb6-330"><a href="#cb6-330"></a><span class="fu">main</span>()<span class="op">;</span></span>
<span id="cb6-331"><a href="#cb6-331"></a><span class="in">```</span></span>
<span id="cb6-332"><a href="#cb6-332"></a></span>
<span id="cb6-333"><a href="#cb6-333"></a><span class="fu">### Governance Reports (CSV)</span></span>
<span id="cb6-334"><a href="#cb6-334"></a></span>
<span id="cb6-335"><a href="#cb6-335"></a>For larger models, CSV outputs make governance easier to review.</span>
<span id="cb6-336"><a href="#cb6-336"></a></span>
<span id="cb6-337"><a href="#cb6-337"></a><span class="in">```{.js filename="Example 11.5 - Gov_ExportViolations.js – JScript (ES3)"}</span></span>
<span id="cb6-338"><a href="#cb6-338"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb6-339"><a href="#cb6-339"></a><span class="co">// Example 11.5 - Gov_ExportViolations.js – JScript (ES3)</span></span>
<span id="cb6-340"><a href="#cb6-340"></a><span class="co">// Purpose: Collect naming, orphan, and traceability issues into CSV</span></span>
<span id="cb6-341"><a href="#cb6-341"></a><span class="co">// Output: directory-only chooser; filename auto-derived</span></span>
<span id="cb6-342"><a href="#cb6-342"></a><span class="co">// -------------------------------------------------------</span></span>
<span id="cb6-343"><a href="#cb6-343"></a><span class="op">!</span>INC Local Scripts<span class="op">.</span><span class="at">EAConstants</span><span class="op">-</span>JScript</span>
<span id="cb6-344"><a href="#cb6-344"></a></span>
<span id="cb6-345"><a href="#cb6-345"></a><span class="kw">function</span> <span class="fu">trim</span>(str) {</span>
<span id="cb6-346"><a href="#cb6-346"></a>    <span class="cf">if</span> (str <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> str <span class="op">==</span> <span class="kw">undefined</span>) <span class="cf">return</span> <span class="st">""</span><span class="op">;</span></span>
<span id="cb6-347"><a href="#cb6-347"></a>    <span class="cf">return</span> <span class="bu">String</span>(str)<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">^\s+|\s+$</span><span class="ss">/g</span><span class="op">,</span> <span class="st">""</span>)<span class="op">;</span></span>
<span id="cb6-348"><a href="#cb6-348"></a>}</span>
<span id="cb6-349"><a href="#cb6-349"></a><span class="kw">function</span> <span class="fu">browseForFolder</span>(promptText) {</span>
<span id="cb6-350"><a href="#cb6-350"></a>    <span class="kw">var</span> shell <span class="op">=</span> <span class="kw">new</span> <span class="fu">ActiveXObject</span>(<span class="st">"Shell.Application"</span>)<span class="op">;</span></span>
<span id="cb6-351"><a href="#cb6-351"></a>    <span class="kw">var</span> folder <span class="op">=</span> shell<span class="op">.</span><span class="fu">BrowseForFolder</span>(<span class="dv">0</span><span class="op">,</span> promptText<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb6-352"><a href="#cb6-352"></a>    <span class="cf">return</span> folder <span class="op">?</span> folder<span class="op">.</span><span class="at">Self</span><span class="op">.</span><span class="at">Path</span> <span class="op">:</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb6-353"><a href="#cb6-353"></a>}</span>
<span id="cb6-354"><a href="#cb6-354"></a></span>
<span id="cb6-355"><a href="#cb6-355"></a><span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb6-356"><a href="#cb6-356"></a>    <span class="kw">var</span> pkg <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetTreeSelectedPackage</span>()<span class="op">;</span></span>
<span id="cb6-357"><a href="#cb6-357"></a>    <span class="cf">if</span> (<span class="op">!</span>pkg) { Session<span class="op">.</span><span class="fu">Prompt</span>(<span class="st">"Select a package."</span><span class="op">,</span> promptOK)<span class="op">;</span> <span class="cf">return</span><span class="op">;</span> }</span>
<span id="cb6-358"><a href="#cb6-358"></a></span>
<span id="cb6-359"><a href="#cb6-359"></a>    <span class="kw">var</span> outDir <span class="op">=</span> <span class="fu">browseForFolder</span>(<span class="st">"Select output folder for governance CSV"</span>)<span class="op">;</span></span>
<span id="cb6-360"><a href="#cb6-360"></a>    <span class="cf">if</span> (<span class="op">!</span>outDir) <span class="cf">return</span><span class="op">;</span></span>
<span id="cb6-361"><a href="#cb6-361"></a></span>
<span id="cb6-362"><a href="#cb6-362"></a>    <span class="kw">var</span> fso <span class="op">=</span> <span class="kw">new</span> <span class="fu">ActiveXObject</span>(<span class="st">"Scripting.FileSystemObject"</span>)<span class="op">;</span></span>
<span id="cb6-363"><a href="#cb6-363"></a>    <span class="kw">var</span> stamp <span class="op">=</span> (<span class="kw">new</span> <span class="bu">Date</span>())<span class="op">.</span><span class="fu">getTime</span>()<span class="op">;</span></span>
<span id="cb6-364"><a href="#cb6-364"></a>    <span class="kw">var</span> path <span class="op">=</span> outDir <span class="op">+</span> <span class="st">"</span><span class="sc">\\</span><span class="st">governance_report_"</span> <span class="op">+</span> stamp <span class="op">+</span> <span class="st">".csv"</span><span class="op">;</span></span>
<span id="cb6-365"><a href="#cb6-365"></a>    <span class="kw">var</span> file <span class="op">=</span> fso<span class="op">.</span><span class="fu">CreateTextFile</span>(path<span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb6-366"><a href="#cb6-366"></a></span>
<span id="cb6-367"><a href="#cb6-367"></a>    file<span class="op">.</span><span class="fu">WriteLine</span>(<span class="st">"IssueType,ElementID,Name,Details"</span>)<span class="op">;</span></span>
<span id="cb6-368"><a href="#cb6-368"></a></span>
<span id="cb6-369"><a href="#cb6-369"></a>    <span class="kw">var</span> els <span class="op">=</span> pkg<span class="op">.</span><span class="at">Elements</span><span class="op">;</span></span>
<span id="cb6-370"><a href="#cb6-370"></a>    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>els<span class="op">.</span><span class="at">Count</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb6-371"><a href="#cb6-371"></a>        <span class="kw">var</span> e <span class="op">=</span> els<span class="op">.</span><span class="fu">GetAt</span>(i)<span class="op">;</span></span>
<span id="cb6-372"><a href="#cb6-372"></a></span>
<span id="cb6-373"><a href="#cb6-373"></a>        <span class="co">// Naming check</span></span>
<span id="cb6-374"><a href="#cb6-374"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Requirement"</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu">startsWith</span>(e<span class="op">.</span><span class="at">Name</span><span class="op">,</span> <span class="st">"REQ_"</span>)) {</span>
<span id="cb6-375"><a href="#cb6-375"></a>            file<span class="op">.</span><span class="fu">WriteLine</span>(<span class="st">"Naming,"</span><span class="op">+</span>e<span class="op">.</span><span class="at">ElementID</span><span class="op">+</span><span class="st">","</span><span class="op">+</span>e<span class="op">.</span><span class="at">Name</span><span class="op">+</span><span class="st">",Missing REQ_ prefix"</span>)<span class="op">;</span></span>
<span id="cb6-376"><a href="#cb6-376"></a>        }</span>
<span id="cb6-377"><a href="#cb6-377"></a></span>
<span id="cb6-378"><a href="#cb6-378"></a>        <span class="co">// Orphan check</span></span>
<span id="cb6-379"><a href="#cb6-379"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Connectors</span><span class="op">.</span><span class="at">Count</span> <span class="op">==</span> <span class="dv">0</span>) {</span>
<span id="cb6-380"><a href="#cb6-380"></a>            file<span class="op">.</span><span class="fu">WriteLine</span>(<span class="st">"Orphan,"</span><span class="op">+</span>e<span class="op">.</span><span class="at">ElementID</span><span class="op">+</span><span class="st">","</span><span class="op">+</span>e<span class="op">.</span><span class="at">Name</span><span class="op">+</span><span class="st">",No connectors"</span>)<span class="op">;</span></span>
<span id="cb6-381"><a href="#cb6-381"></a>        }</span>
<span id="cb6-382"><a href="#cb6-382"></a></span>
<span id="cb6-383"><a href="#cb6-383"></a>        <span class="co">// Traceability check</span></span>
<span id="cb6-384"><a href="#cb6-384"></a>        <span class="cf">if</span> (e<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Requirement"</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu">hasCapabilityTrace</span>(e)) {</span>
<span id="cb6-385"><a href="#cb6-385"></a>            file<span class="op">.</span><span class="fu">WriteLine</span>(<span class="st">"Traceability,"</span><span class="op">+</span>e<span class="op">.</span><span class="at">ElementID</span><span class="op">+</span><span class="st">","</span><span class="op">+</span>e<span class="op">.</span><span class="at">Name</span><span class="op">+</span><span class="st">",No Capability trace"</span>)<span class="op">;</span></span>
<span id="cb6-386"><a href="#cb6-386"></a>        }</span>
<span id="cb6-387"><a href="#cb6-387"></a>    }</span>
<span id="cb6-388"><a href="#cb6-388"></a></span>
<span id="cb6-389"><a href="#cb6-389"></a>    file<span class="op">.</span><span class="fu">Close</span>()<span class="op">;</span></span>
<span id="cb6-390"><a href="#cb6-390"></a>    Session<span class="op">.</span><span class="fu">Output</span>(<span class="st">"Governance report written → "</span> <span class="op">+</span> path)<span class="op">;</span></span>
<span id="cb6-391"><a href="#cb6-391"></a>}</span>
<span id="cb6-392"><a href="#cb6-392"></a></span>
<span id="cb6-393"><a href="#cb6-393"></a><span class="kw">function</span> <span class="fu">startsWith</span>(str<span class="op">,</span> prefix) {</span>
<span id="cb6-394"><a href="#cb6-394"></a>    <span class="cf">return</span> <span class="bu">String</span>(str<span class="op">||</span><span class="st">""</span>)<span class="op">.</span><span class="fu">indexOf</span>(prefix) <span class="op">===</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-395"><a href="#cb6-395"></a>}</span>
<span id="cb6-396"><a href="#cb6-396"></a><span class="kw">function</span> <span class="fu">hasCapabilityTrace</span>(e) {</span>
<span id="cb6-397"><a href="#cb6-397"></a>    <span class="kw">var</span> cons <span class="op">=</span> e<span class="op">.</span><span class="at">Connectors</span><span class="op">;</span></span>
<span id="cb6-398"><a href="#cb6-398"></a>    <span class="cf">for</span> (<span class="kw">var</span> j<span class="op">=</span><span class="dv">0</span><span class="op">;</span> j<span class="op">&lt;</span>cons<span class="op">.</span><span class="at">Count</span><span class="op">;</span> j<span class="op">++</span>) {</span>
<span id="cb6-399"><a href="#cb6-399"></a>        <span class="kw">var</span> c <span class="op">=</span> cons<span class="op">.</span><span class="fu">GetAt</span>(j)<span class="op">;</span></span>
<span id="cb6-400"><a href="#cb6-400"></a>        <span class="cf">if</span> (c<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Realisation"</span> <span class="op">||</span> c<span class="op">.</span><span class="at">Type</span> <span class="op">==</span> <span class="st">"Realization"</span>) {</span>
<span id="cb6-401"><a href="#cb6-401"></a>            <span class="kw">var</span> target <span class="op">=</span> Repository<span class="op">.</span><span class="fu">GetElementByID</span>(c<span class="op">.</span><span class="at">SupplierID</span>)<span class="op">;</span></span>
<span id="cb6-402"><a href="#cb6-402"></a>            <span class="cf">if</span> (target <span class="op">&amp;&amp;</span> target<span class="op">.</span><span class="at">Stereotype</span> <span class="op">==</span> <span class="st">"Capability"</span>) <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb6-403"><a href="#cb6-403"></a>        }</span>
<span id="cb6-404"><a href="#cb6-404"></a>    }</span>
<span id="cb6-405"><a href="#cb6-405"></a>    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb6-406"><a href="#cb6-406"></a>}</span>
<span id="cb6-407"><a href="#cb6-407"></a></span>
<span id="cb6-408"><a href="#cb6-408"></a><span class="fu">main</span>()<span class="op">;</span></span>
<span id="cb6-409"><a href="#cb6-409"></a><span class="in">```</span></span>
<span id="cb6-410"><a href="#cb6-410"></a></span>
<span id="cb6-411"><a href="#cb6-411"></a><span class="fu">## Summary</span></span>
<span id="cb6-412"><a href="#cb6-412"></a></span>
<span id="cb6-413"><a href="#cb6-413"></a>Governance scripts are simple but powerful. They let you:</span>
<span id="cb6-414"><a href="#cb6-414"></a></span>
<span id="cb6-415"><a href="#cb6-415"></a><span class="ss">- </span>Enforce naming standards (Example 10.1).</span>
<span id="cb6-416"><a href="#cb6-416"></a></span>
<span id="cb6-417"><a href="#cb6-417"></a><span class="ss">- </span>Detect structural smells like orphans and duplicates (Examples 10.2 &amp;</span>
<span id="cb6-418"><a href="#cb6-418"></a>  10.3).</span>
<span id="cb6-419"><a href="#cb6-419"></a></span>
<span id="cb6-420"><a href="#cb6-420"></a><span class="ss">- </span>Check coverage and traceability (Example 10.4).</span>
<span id="cb6-421"><a href="#cb6-421"></a></span>
<span id="cb6-422"><a href="#cb6-422"></a><span class="ss">- </span>Export reports for human review (Example 10.5).</span>
<span id="cb6-423"><a href="#cb6-423"></a></span>
<span id="cb6-424"><a href="#cb6-424"></a>Together, these create a **living quality gate** for your repository —</span>
<span id="cb6-425"><a href="#cb6-425"></a>fast, repeatable, and objective.</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>